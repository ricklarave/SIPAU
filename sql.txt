CREATE TABLE residente (
    idResidente BIGSERIAL NOT NULL,
    manzana integer NOT NULL,
    villa integer NOT NULL,
    cedulaDueño character varying(10),
    nombresDueño character varying(50),
    apellidosDueño character varying(50),
    cedulaResidente character varying(10),
    nombresResidente character varying(50),
    apellidosResidente character varying(50),
    telefonoResidente character varying(10),
    correoResidente character varying(40),
    fechaAlquiler timestamp without time zone
);

ALTER TABLE residente ADD CONSTRAINT PK_residente PRIMARY KEY (idResidente);

CREATE TABLE administrador (
    idAdministrador BIGSERIAL NOT NULL,
    cedulaAdministrador character varying(10),
    nombresAdministrador character varying(50),
    apellidosAdministrador character varying(50)
);

ALTER TABLE administrador ADD CONSTRAINT PK_administrador PRIMARY KEY (idAdministrador);

CREATE TABLE usuario (
    idUsuario BIGSERIAL NOT NULL,
    cedulaUsuario character varying(10),
    nombresUsuario character varying(50),
    apellidosUsuario character varying(50),
    nick_Usuario character varying(30),
    claveUsuario character varying(20),
    perfilUsuario character varying(30),
    estadoUsuario character varying(10)
);

ALTER TABLE usuario ADD CONSTRAINT PK_usuario PRIMARY KEY (idUsuario);

CREATE TABLE pagoAlicuota (
    idpago BIGSERIAL NOT NULL,
	idresidente integer NOT NULL,
    anio integer NOT NULL,
    mes integer NOT NULL,
    fechapago timestamp without time zone,
    valor decimal(7,2),
    estado character varying(10),--PENDIENTE =>0 --PAGADA =>1 --EN MORA =>2
	idevidencia BIGSERIAL NOT NULL
);

ALTER TABLE pagoAlicuota ADD CONSTRAINT PK_pagoAlicuota PRIMARY KEY (idpago);
ALTER TABLE pagoAlicuota ADD CONSTRAINT FK_pagoAlicuota FOREIGN KEY (idresidente) REFERENCES "residente"(idresidente);

CREATE TABLE datosTransaccion (
    idevidencia integer NOT NULL,
	numerotramite character varying(10),
	banco character varying(10),
    fechapago timestamp without time zone,
    valorpago decimal(7,2),
    comprobante bytea
);


select * from residente;
select * from administrador;
select * from usuario;

